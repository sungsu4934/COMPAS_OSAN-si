# COMPAS(LH)주관 "오산시 어린이 교통사고 위험지역 도출"
 - 과제
  > 1) 기존 어린이 보호구역 외 어린이 교통사고 위험지역 20개소 제시
  > 2) 기존 어린이 보호구역 중 교통안전시설물* 우선 설치 지역 20개소 제시
 - 세부적인 분석내용과 시각화 자료는 pdf파일에 함께 첨부하였습니다.

## Part1. 주요분석내용
 - A. 기존 어린이 보호구역 외 어린이 교통사고 위험지역 20개소 제시
  > 1) 오산시를 100X100 격자로 분할
  > 2) (100X100) 격자에 사고에 영향을 끼칠 수 있는 모든 요인 데이터를 할당
  > 3) 상관계수와 Logistic Regression을 이용하여 의미 있는 요인들만 필터링
  > 4) 변수들의 다중공선성을 확인하여 VIF계수가 높은 변수를 2차적으로 필터링 (Feature Selection)
  > 5) 3가지 머신러닝 모델(KNN, RF, Lightgbm)을 수립하여 모델을 평가
  > 6) 가장 우수한 모델을 활용하여 후보군 격자의 사고발생 확률을 예측
  > 7) 위험지역 TOP 20을 선정한 후, 수작업으로 인간이 직접 오류가 있는 지역을 선별
  
 - B. 기존 어린이 보호구역 중 교통안전시설물* 우선 설치 지역 20개소 제시
  > 1) 기존 (100X100) 격자의 중심점을 활용하여 법적 어린이 보호구역 넓이인 반경 300m를 새로운 격자로 설정
  > 2) 반경이 300m인 원 격자 안에 사고에 영향을 끼칠 수 있는 모든요인 데이터를 할당
  > 3) 다중회귀분석을 이용하여 의미 있는 요인들만 필터링한 후, 회귀계수를 이용하여 가중치를 도출
  > 4) TOPSIS 기법을 활용하여 기존 91개의 어린이 보호구역 중 최선의 20개 구역을 선정
  > 5) 도로교통법을 포함한 여러 법적, 제도적 매뉴얼을 활용하여 20개의 지역에 시설들을 분배, 위치
  
## Part2. 관련된 이론
 (1) TOPSIS: (Technic for Order of Preference by Similarity to Ideal Solution)
   - TOPSIS기법은 요구사항 우선순위기법으로써 평가요소가 다양하고 단위가 다를 때, 그리고 대안의 개수가 많을 때 적합한 의사결정 기법
   - 이는 가장 이상적인 해에 어떠한 대안들이 가까운지 점수화하여 보여주기 때문에 여러 대안들의 정량화가 가능
   - TOPSIS 기법의 절차

            STEP1. 평가기준과 대안 생성 및 정성적 요소들을 숫자로 정량화
            STEP2. 벡터정규화를 통해 정규화 실시
            STEP3. 평가기준에 가중치를 부여
            STEP4. 정규화된 메트릭스와 가중치의 곱으로 메트릭스 도출
            STEP5. 최선의 해(IS)와 최악의 해(NIS) 결정
            STEP6. 대안별로 IS와 NIS까지 거리 (IS_dist / NIS_dist) 계산
            STEP7. IS와 NIS까지 거리의 상대적 근접도 (c_plus/ c_minus) 산출
            STEP8. 대안의 우선순위 도출

## Part3. Conclusion & Limitation
 1) 최종 선정 결과와 오산시 어린이 교통사고 분포 지도를 비교해 본다면, 위험지역의 분포와 어린이 교통사고가 집중된 지점이 어느정도 유사함을 확인할 수 있음. 
 
 ![image](https://user-images.githubusercontent.com/28617435/123538399-b3093980-d76f-11eb-805a-f441519ac1bf.png)

 2) 과제2에서 시설물의 위치를 할당함에 있어 100mx100m 격자가 두 개 이상의 교통안전시설물 우선설치구역과 겹치는 경우, 격자의 중심점과 각 우선설치구역 간 거리를 산정하여 더 가까운쪽이 가장 영향을 많이 받는다고 판단하여 한 쪽에만 할당하였다.
   > 하지만 생각과는 다르게 여러 지역이 겹치는 구간이 나타났는데 해당 구간의 경우 꽤나 근접한 거리임에도 불구하고 포함되지 못하는 경우가 생겨났다. 
   > 결과적으로 선정한 20개 중 17개 지역에만 시설물을 할당하는 포맷으로 결과 제출이 되었지만, 실제 시설물의 위치를 좌표로 나타내면 모든 어린이 보호구역의 주변으로 설치되는 것을 볼 수 있었다.

![image](https://user-images.githubusercontent.com/28617435/123538470-07acb480-d770-11eb-89a3-c5305d82c777.png)
  
 3) Limitation
  > - 상세도로망의 경우, 완전한 골목길까지 포함하지 못하는 데이터로 판단되어 더욱 세부적인 분석을 못한 것에 대한 아쉬움
  > - 어린이 교통사고의 데이터 수가 너무 적어 초정밀하고 정확한 원인 분석의 한계
  > - 오산시의 예산은 찾았지만, 안전시설물의 설치 가격을 알 수 없어서 시설물 최적 개수를 구하지 못한 것에 대한 아쉬움

## Part4. 사용언어
 1) 분석: python, 
 2) 시각화패키지: folium

## Part5. 사용한 데이터
 1) COMPAS 자체 제공 데이터 (25개)
 2) TAAS 오산시 교통사고 데이터 (2010~2019)
